# 1. Введение
AI Review Analyzer — интеллектуальная система для автоматического сбора и анализа отзывов с маркетплейсов. Система парсит отзывы, анализирует тональность, выявляет проблемные аспекты товаров и дает рекомендации по улучшению товара.
Цель проекта — помочь бизнесу быстро выявлять проблемы продуктов, улучшать качество и увеличивать продажи за счет анализа обратной связи клиентов.

# 2. Use‑cases
   
# UC1 — Анализ отзывов по ссылке на товар

| Поле | Описание |
|------|-----------|
| Название | Анализ отзывов по ссылке на товар |
| Акторы | Пользователь (основной) \| Система (AI Review Analyzer) |
| Предусловия | Пользователь авторизован в системе \| есть стабильное интернет-соединение |
| Основной сценарий | 1. Пользователь нажимает кнопку "Проанализировать по ссылке" в интерфейсе системы.<br>2. Система открывает интерфейс с полем для ввода URL и кнопкой "Начать анализ".<br>3. Пользователь копирует и вставляет ссылку на карточку товара с Wildberries.<br>4. Frontend отправляет URL в Backend API для валидации.<br>5. Backend API проверяет корректность URL и принадлежность к Wildberries.<br>6. Система отображает индикатор успешной валидации.<br>7. Пользователь нажимает кнопку "Начать анализ".<br>8. Frontend создает задачу анализа через Backend API.<br>9. Backend API запускает парсер для сбора отзывов с Wildberries.<br>10. Парсер возвращает сырые данные отзывов и мета-информацию товара.<br>11. Backend API отправляет отзывы в NLP Service для анализа тональности, выявление проблемных аспектов.<br>12. Backend API получает от NLP Service структурированные данные и агрегирует их.<br>13. Backend API отправляет агрегированные данные в LLM Service для генерации рекомендаций.<br>14. LLM Service возвращает конкретные шаги по улучшению товара.<br>15. Backend API сохраняет полный отчет в базу данных.<br>16. Система отображает дашборд с аналитикой и рекомендациями. |
| Постусловия | Пользователь получает сводный отчет по всем отзывам на товар \| отчет включает сводку, графики распределения тональности, таблицу аспектов, примеры самых полезных отзывов и рекомендации по улучшению с конкретными действиями |

# UC2 — Просмотр истории анализов

| Поле | Описание |
|------|----------|
| Название | Просмотр истории анализов |
| Акторы | Пользователь (основной) \| Система (AI Review Analyzer) |
| Предусловия | Пользователь авторизован \| в истории пользователя есть как минимум один проведенный анализ |
| Основной сценарий | 1. Пользователь в личном кабинете нажимает на вкладку или кнопку "Мои анализы" / "История отчетов".<br>2. Frontend запрашивает список анализов через Backend API.<br>3. Backend система находит и возвращает список анализов.<br>4. Frontend отображает список товаров.<br>5. Пользователь просматривает список и нажимает на карточку товара, отчет по которому он хочет посмотреть.<br>6. Frontend отправляет запрос на получение детального отчета по выбранному ID анализа в Backend API.<br>7. Backend находит готовый отчет в кеше или базе данных и возвращает его frontend.<br>8. Система открывает страницу с детальным отчетом, идентичным тому, что пользователь видел после завершения анализа.<br>9. Пользователь изучает сохраненный отчет. |
| Постусловия | Пользователь получает доступ к списку своих анализов и может просмотреть детальный отчет по любому из них |

# UC3 — Регистрация и вход в систему

| Поле | Описание |
|------|----------|
| Название | Регистрация и вход в систему |
| Акторы | Новый пользователь \| Существующий пользователь \| Система (AI Review Analyzer) |
| Предусловия | Пользователь имеет доступ к интернету \| пользователь имеет действующий email адрес |
| Основной сценарий | **Регистрация нового пользователя:**<br>1. Пользователь нажимает кнопку "Регистрация" на главной странице.<br>2. Frontend отображает форму регистрации с полями: email, пароль, подтверждение пароля.<br>3. Пользователь заполняет все обязательные поля валидными данными.<br>4. Frontend отправляет данные в Backend API.<br>5. Backend API проверяет уникальность email в базе данных.<br>6. Backend API отправляет письмо с подтверждением email.<br>7. Backend API создает запись пользователя с хешированием пароля и генерирует verification token.<br>8. Система перенаправляет пользователя в личный кабинет с приветственным сообщением.<br><br>**Вход существующего пользователя:**<br>1. Пользователь нажимает кнопку "Войти" на главной странице.<br>2. Frontend отображает форму входа с полями: email и пароль.<br>3. Пользователь вводит email и пароль.<br>4. Frontend отправляет учетные данные в Backend API.<br>5. Backend API проверяет пользователя в базе данных и сверяет хеш пароля.<br>6. Backend API создает JWT токен и сессию.<br>7. Система перенаправляет пользователя в личный кабинет. |
| Постусловия | Новый пользователь: создана учетная запись, пользователь подтвердил email и вошел в систему \| Существующий пользователь: пользователь аутентифицирован и получил доступ к личному кабинету |

# 3. Функциональные требования

**Анализ отзывов**

  - Парсинг отзывов и данных товаров с маркетплейсов

  - Анализ тональности и категоризация аспектов через NLP API

  - Генерация рекомендаций по улучшению через LLM API

  - Визуализация аналитики: графики, дашборды, таблицы

**Управление отчетами**

  - Создание и сохранение отчетов об анализе

  - Просмотр истории анализов с пагинацией и поиском

**Пользователи и безопасность**

  - Регистрация, аутентификация и авторизация

  - Восстановление пароля и управление профилем

  - Ролевая модель доступа (пользователь/админ)

  - Email-уведомления о подтверждении регистрации

**Хранение:**
  - пользователей и истории анализов,

  - результатов ML-анализа,

  - кэшированных отчетов

Админ-панель для управления пользователями

Валидация входных данных и URL

Кеширование отчетов и оптимизация

Поддержка веб-интерфейса


# 4. Нефункциональные требования и метрики производительности
**Производительность:**
- Среднее время ответа Backend API ≤ 3 секунд (без учёта внешних API).
- 95-й перцентиль времени ответа ≤ 5 секунд.
- Среднее время анализа NLP ≤ 10 секунд, 95-й перцентиль ≤ 15 секунд.
- Среднее время генерации LLM ≤ 20 секунд, 95-й перцентиль ≤ 30 секунд.

**Пропускная способность:** поддержка не менее 100 одновременных пользователей без деградации.
  
**Доступность:** Backend API ≥ 99% в месяц.

**Надёжность:** при сбое внешнего сервиса (NLP, LLM) система возвращает сообщение об ошибке ≤ 1 секунды.

**Использование ресурсов:** загрузка CPU ≤ 70%, использование памяти ≤ 75% при пиковой нагрузке.

**Безопасность:** авторизация через JWT, шифрование соединений (HTTPS).

**Масштабируемость:** возможность горизонтального масштабирования Backend API, NLP и LLM сервисов.
# 5. Технологический стек
**Frontend:** React

**Backend:** Python/FastAPI + Celery + Redis 

**Database:** PostgreSQL 

**Интеграции:**

NLP API (анализ тональности и классификация аспектов)

LLM API (генерация рекомендаций по улучшению)
# 6. Архитектурные принципы
Используется модель C4 для описания архитектуры:  
- Context Diagram — пользователи и внешние системы.  
- Container Diagram — мобильное/веб‑приложение, Backend API, база данных.  
- Component Diagram — внутренняя структура Backend API.

Backend API реализует бизнес‑логику и взаимодействует с внешними сервисами.
 
Данные пользователей и история анализа хранятся централизованно в PostgreSQL.

Уведомления реализуются через внешний сервис.  

Принцип Separation of Concerns: разделение парсинга, ML-анализа, бизнес-логики и слоя данных

Принцип Fail‑safe defaults: при сбое внешнего сервиса система возвращает сообщение об ошибке
# 7. Ограничения и допущения
NLP API и LLM API предоставляются как внешние сервисы (не разрабатываются в рамках проекта)

Система ориентирована на работу в облачной инфраструктуре с горизонтальным масштабированием

Поддерживаются только современные браузеры и десктопные устройства

Генерация рекомендаций через LLM API не гарантирует 100% точности 

Парсинг данных зависит от стабильности структуры маркетплейсов

Качество анализа тональности ограничено точностью NLP API для русскоязычных текстов

Первоначальная версия поддерживает только маркетплейс Wildberries

Система предназначена для анализа существующих отзывов, а не прогнозирования будущих оценок

Обработка персональных данных пользователей осуществляется в соответствии с политикой конфиденциальности маркетплейсов

